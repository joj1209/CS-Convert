# 20251214
1.이 환경에서는 집에서 인터넷이 되며, copilot agent로 코딩을 하고 있습니다.
2.동일한 소스를 회사에서는 git에 올린 소스코드를 직접 타이핑하면서 사용하고 있습니다.
3.여기서는 잘되지만 회사에서는 @OLD_VAR1 and ' ==> = 싱글커테이션이 들어가면 @OLD_VAR1 변수가가 값이 변하지 않아요.
  집에서는 잘되지만 회사에서는 변환되지 않는데 회사에서 디버깅하기 위한 방법을 알려주세요



  

<p>[ETL : DM] 같은 행의 왼쪽(변경전)과 오른쪽(변경후)을 1:1 매칭합니다.</p>
아래에 "run" 버튼 밑에 추가합니다
<p>[ETL : DW] 같은 행의 왼쪽(변경전)과 오른쪽(변경후)을 1:1 매칭합니다.</p>  



<p>[ETL : DW] 같은 행의 왼쪽(변경전)과 오른쪽(변경후)을 1:1 매칭합니다.</p>  
에는 아래와 같은 매핑 규칙이 존재합니다.

1.변경전 변수명은 아래와 같이 5개가 있습니다.
@program_id    
@standard_date
@target_table
@job_seq
@temp_table

2.변경후 변수매핑규칙입니다.
 1) @program_id 매핑은 PGM ID 가 없으면 아래의 문구에서 값을 파싱해서 매핑합니다.
  DECLARE `log_프로그램ID` STRING DEFAULT 'wcsbv_서비스내역01';  --> 여기에서 wcsbv_서비스내역01 값을 매핑
 2) @standard_date 매핑은 화면에서 'default' 로 매핑합니다.
 3) @target_table 매핑은 @program_id 에서 "서비스내역" 를 추출해서 'DW.서비스내역' 으로매핑합니다. (싱글쿼테이비션은 참조하지 않습니다)
 4) @job_seq 매핑은 화면에서 '' 로 매핑합니다.
 5) @temp_table 매핑은 @program_id 에서 "서비스내역" 를 추출해서 'DWWRK.서비스내역' 으로매핑합니다. (싱글쿼테이비션은 참조하지 않습니다)




 
/********************************************/
/* PGM ID : test.sql                      */
/* TARGET TABLE : test_table                */

      DECLARE vs_job_d STRING DEFAULT @standard_date;
      DECLARE vs_pgm_id STRING DEFAULT @program_id;
      DECLARE vs_tbl_nm STRING DEFAULT @target_table;
END;	

위의 sql은 기존에 존재하던 포멧이고
아래는 위와 베타적인 포멧입니다.
（변경전 SQL은 위와 아래에서 둘중 1개입니다. PGM ID 가 있으면 위의 포멧기준으로 파싱하고 

/********************************************/

      --DECLARE `log_프로그램ID` STRING DEFAULT 'wcsbv_서비스내역01';
	  
	  DECLARE `log_프로그램ID` STRING DEFAULT @program_id;
	  DECLARE `log_기준일자` STRING DEFAULT @standard_date;
	  DECLARE `log_타겟테이블명` STRING DEFAULT @target_table;
	  DECLARE `log_작업차수` STRING DEFAULT @job_seq;
      DECLARE `log_임시테이블명` STRING DEFAULT @temp_table;

END;	